version: "3.1"

nlu:
  - regex: id_demande
    examples: |
      # require an explicit prefix (#, ID, or 'num') to avoid matching plain numbers like '20' or '2026'
      - \b#\d{2,6}\b
      - \bID\s*[:#]?\s*\d{2,6}\b
      - \bnum(?:ero|éro)?\s*(?:de\s*)?\d{2,6}\b

  - regex: date_mise_en_service
    examples: |
      # Enhanced date detection with better precision
      # Format: DD/MM/YYYY or DD-MM-YYYY
      - \b\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}\b
      # Format: YYYY/MM/DD or YYYY-MM-DD
      - \b\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}\b
      # Format: day month year (e.g., "20 février 2026")
      - \b\d{1,2}\s+(?:janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\s+\d{4}\b
      # Format: "le day month year" (e.g., "le 20 février 2026")
      - \ble\s+\d{1,2}\s+(?:janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\s+\d{4}\b
      # Format: "le day month" (e.g., "le 20 février" - assumes current or next year)
      - \ble\s+\d{1,2}\s+(?:janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\b
      # Format: day month without "le" (e.g., "20 février" or "20 fevrier")
      - \b\d{1,2}\s+(?:janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\b
      # Format: "en month year" (e.g., "en février 2026")
      - \b(?:en\s+)?(?:janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\s+\d{4}\b

  - regex: responsable_rh
    examples: |
      - \b(?:responsable\s+RH|DRH|directeur\s+RH|gestionnaire\s+RH|coordinateur\s+RH|chargé\s+RH)\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b
      - \b(?:RH|DRH)\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b
      - \b(?:responsable\s+ressources\s+humaines)\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b

  - regex: action_type
    examples: |
      - \b(?:validation|approbation|rejet|refus|signature|accord|autorisation)\b
      - \b(?:valider|approuver|rejeter|refuser|signer|accepter|autoriser)\b
      - \baction\s*[:\-]?\s*(validation|approbation|rejet|refus|signature|accord|autorisation)\b
      - \btype\s*[:\-]?\s*(validation|approbation|rejet|refus|signature|accord|autorisation)\b

  - regex: nom_encadreur
    examples: |
      - \b(?:encadreur|superviseur|tuteur|responsable|manager)\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b
      - \b(?:sous\s+la\s+direction\s+de|avec\s+comme\s+encadreur)\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b

  - regex: nom_validateur
    examples: |
      - \b(?:validateur|approbateur|signataire)\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b
      - \b(?:validation\s+par|approuvé\s+par|signé\s+par)\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b

  - regex: nom_poste
    examples: |
      - \b(?:poste|position|fonction)\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b
      - \b(?:emploi|job|role)\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b

  - regex: date_debut
    examples: |
      - \b(?:date\s+de\s+début|début|démarrage|commence)\s*[:\-]?\s*(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})\b
      - \b(?:à\s+partir\s+du|dès\s+le)\s*(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})\b
      - \b(?:début|démarrage|commence)\s+(?:le\s+)?(\d{1,2})\s+(janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\s+(\d{4})\b

  - regex: date_fin
    examples: |
      - \b(?:date\s+de\s+fin|fin|terme|échéance)\s*[:\-]?\s*(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})\b
      - \b(?:jusqu'au|au)\s*(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})\b
      - \b(?:fin|terme|échéance)\s+(?:le\s+)?(\d{1,2})\s+(janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\s+(\d{4})\b
      - \bfin\s+(?:le\s+)?(\d{1,2})\s+(janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\b
      - \b(?:jusqu'au|au)\s+(?:le\s+)?(\d{1,2})\s+(janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\b

  - regex: duree_contrat
    examples: |
      - \b(?:durée|période)\s*(?:du\s+contrat)?\s*[:\-]?\s*(\d+)\s*(mois|an|ans|année|années)\b
      - \b(?:pour|pendant)\s+(\d+)\s*(mois|an|ans|année|années)\b
      - \b(?:six|douze|trois|quatre|cinq|sept|huit|neuf|dix|onze)\s+(mois|an|ans|année|années)\b

  - regex: nature_contrat
    examples: |
      - \b(?:CDI|CDD|Stage|stage|externalisé|journalier|freelance|prestataire|consultant)\b
      - \b(?:contrat\s+(?:à\s+durée\s+(?:indéterminée|déterminée)|permanent|fixe))\b
      - \b(?:stage\s+(?:conventionné|en\s+entreprise|pratique|professionnel|de\s+fin\s+d'études))\b

  - regex: situation_budget
    examples: |
      - \b(?:budgetisé|non\s+budgetisé|budget\s+disponible|pas\s+de\s+budget|financé|non\s+financé)\b
      - \b(?:situation\s+budgétaire)\s*[:\-]?\s*(budgetisé|non\s+budgetisé)\b

  - regex: nom_flux
    examples: |
      - \b(?:flux|workflow|circuit|processus)\s*(?:nommé|appelé|dénommé)\s*[:\-]?\s*([A-Z][a-zA-Z0-9\s]+)\b
      - \b(?:nom\s+du\s+flux|flux\s*[:\-])\s*([A-Z][a-zA-Z0-9\s]+)\b

  - regex: type_demande
    examples: |
      - \b(?:DDR|DRI|DMOE|DMI)\b
      - \b(?:demande\s+(?:de\s+recrutement|de\s+mobilité\s+(?:interne|externe)|d'\s+objectif))\b

  - regex: exploitation
    examples: |
      - \b(?:AG|ag)\d{2}\b
      - \b(?:US|us|Us)\d{2}\b
      - \b(?:00\s+Siège\s+Social|Siège\s+Social|siège\s+social)\b
      - \b(?:Tuléar|Tulear|Toliara|Fianarantsoa|Majunga|Mahajanga|Tamatave|Toamasina|Ihosy|Andranomahery|Manakara|Antsirabe|Diego|Antsiranana)\b

  - regex: direction
    examples: |
      - \b(?:DSI|DRH|DMA|DGL|DAF|DIN|DCM|DCO|DLA)\b
      - \b(?:direction\s+(?:des\s+systèmes\s+d'information|des\s+ressources\s+humaines|marketing\s+et\s+administration|générale\s+de\s+logistique|administratif\s+et\s+financier|de\s+l'innovation|de\s+la\s+communication|commerciale|logistique\s+et\s+approvisionnement))\b

  - regex: id_demande
    examples: |
      - \b(?:DDR|DRI|DMOE|DMI)\s*\d{3,6}\b
      - \b(?:demande|dossier)\s*(?:n°|no|num(?:ero|éro)?|#|id)\s*\d{3,6}\b
      - \bID\s*demande\s*[:#]?\s*\d{3,6}\b

  - regex: poste_encadreur
    examples: |
      - \b(?:poste|position|fonction)\s*(?:de\s+l')?encadreur\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b
      - \b(?:occupant\s+le\s+poste\s+de)\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b
      - \bencadreur\s+(?:poste|position|fonction)\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b
      - \b(?:tuteur|superviseur|responsable)\s+(?:technique|de\s+stage|de\s+projet)\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)\b

  - regex: resultat
    examples: |
      - \b(?:résultat|resultat|outcome|conclusion)\s*[:\-]?\s*([a-zA-Z]+)\b
      - \b(?:statut|état)\s*[:\-]?\s*([a-zA-Z]+)\b

  - regex: motif
    examples: |
      - \b(?:motif|raison|cause|justification)\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \b(?:pour|car|parce\s+que)\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b

  - regex: effectif
    examples: |
      - \b(\d+)\s*(?:personne|personnes|poste|postes|pers|collaborateur|collaborateurs|stagiaire|stagiaires|consultant|consultants|prestataire|prestataires|travailleur|travailleurs)\b
      - \b(?:pour|avec)\s+(\d+)\s*(?:personne|personnes|poste|postes)\b
      - \b(?:un|une|deux|trois|quatre|cinq|six|sept|huit|neuf|dix)\s*(?:personne|personnes|poste|postes|employés|collaborateurs)\b

  - regex: dotation
    examples: |
      - \b(?:ordinateur\s+portable|PC\s+portable|laptop|notebook)\b
      - \b(?:smartphone|téléphone\s+portable|mobile|GSM)\b
      - \b(?:ordinateur\s+de\s+bureau|PC\s+fixe|poste\s+fixe)\b
      - \b(?:véhicule\s+de\s+service|voiture\s+de\s+service|auto)\b
      - \b(?:badge|carte\s+d'accès|passe)\b
      - \b(?:assurance|contrat\s+d'assurance)\b

  - regex: info_type
    examples: |
      - \b(?:type|nature|catégorie|classe)\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \b(?:information|info|détail|détails)\s*(?:de\s+type|de\s+nature)?\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \b(?:type\s+d'info|nature\s+d'info|catégorie\s+d'info)\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b

  - regex: justification
    examples: |
      - \b(?:justification|raison|motif|cause|explication)\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \b(?:car|parce\s+que|pour|afin\s+de|étant\s+donné|vu\s+que)\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \bjustif\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \braison\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b

  - regex: intention_demande
    examples: |
      - \b(?:intention|action|objectif|but)\s*(?:de\s+la\s+demande)?\s*[:\-]?\s*(ajouter|modifier|supprimer|lancer|valider|rejeter|consulter|voir)\b
      - \b(?:je\s+veux|je\s+souhaite|je\s+voudrais)\s*(ajouter|modifier|supprimer|lancer|valider|rejeter|consulter|voir)\b

  - regex: poids
    examples: |
      - \b(\d+)\s*(?:kg|kilo|kilogramme|gramme|g|tonne|t)\b
      - \b(?:poids|masse)\s*[:\-]?\s*(\d+)\s*(kg|kilo|kilogramme|gramme|g|tonne|t)\b

  - regex: objectif
    examples: |
      - \b(?:objectif|but|goal|cible)\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \b(?:pour|afin\s+de|dans\s+le\s+but\s+de|avec\s+pour\s+objectif\s+de)\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \bobjectif\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \bbut\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b

  - regex: commentaire
    examples: |
      - \b(?:commentaire|remarque|note|observation)\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \b(?:avec\s+comme\s+commentaire|avec\s+la\s+remarque)\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b

  - regex: action_demandee
    examples: |
      - \b(?:action\s+demandée|action\s+requise|tâche\s+demandée)\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \b(?:je\s+demande\s+de|je\s+veux\s+que|il\s+faut|il\s+est\s+demandé\s+de)\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \baction\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b
      - \btâche\s*[:\-]?\s*([a-zA-Z]+(?:\s+[a-zA-Z]+)*)\b

  - regex: id_embauche
    examples: |
      - \b(?:EB|EMB)\s*\d{3,6}\b
      - \bID\s*embauche\s*[:#]?\s*\d{3,6}\b
      - \bembauche\s*(?:n°|no|num(?:ero|éro)?|#|id)\s*\d{3,6}\b
      - \bEB-\d{4}-\d{4}\b

  - regex: nom_et_prenoms
    examples: |
      - \b(?:embaucher|embauche\s+de|recruter)\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+){1,2})(?=\s+(?:au\s+service|comme|sous\s+la\s+direction|à\s+partir|jusqu'|jusqu’|,))
      - \bnom\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+){1,2})\b

  - regex: service
    examples: |
      - \bservice\s*[:\-]?\s*([A-Z][a-zA-Z]+(?:\s+[A-Z][a-zA-Z]+){0,2})(?=\s+(?:comme|sous\s+la\s+direction|à\s+partir|jusqu'|jusqu’|,|$))
      - \bau\s+service\s+([A-Z][a-zA-Z]+(?:\s+[A-Z][a-zA-Z]+){0,2})(?=\s+(?:comme|sous\s+la\s+direction|à\s+partir|jusqu'|jusqu’|,|$))

  - regex: superieur
    examples: |
      - \b(?:supérieur|superieur)\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)+)\b
      - \b(?:manager|responsable)\s*[:\-]?\s*([A-Z][a-z]+(?:\s+[A-Z][a-z]+)+)\b

  - regex: taille
    examples: |
      - \btaille\s*[:\-]?\s*([XSML]{1,3}|\d{2,3})\b
      - \btaille\s*[:\-]?\s*(\d{2,3})\s*(?:cm|centimètres|centimetres)\b
      - \btaille\s*[:\-]?\s*(\d{1})\s*m\s*(\d{1,2})\b
      - \btaille\s*[:\-]?\s*(\d(?:[\.,]\d{1,2})?)\s*m\b

  - regex: pointure
    examples: |
      - \bpointure\s*[:\-]?\s*(\d{1,2})\b

  - regex: demande_id
    examples: |
      - \b(?:DDR|DRI|DMOE|DMI)\d{3,6}\b
      - \b(?:demande|dossier)\s*[:#]?\s*(\d{3,6})\b
