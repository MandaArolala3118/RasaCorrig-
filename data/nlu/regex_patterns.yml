version: "3.1"

nlu:
  - regex: id_demande
    examples: |
      # require an explicit prefix (#, ID, or 'num') to avoid matching plain numbers like '20' or '2026'
      - \b#\d{2,6}\b
      - \bID\s*[:#]?\s*\d{2,6}\b
      - \bnum(?:ero|éro)?\s*(?:de\s*)?\d{2,6}\b

  - regex: date_mise_en_service
    examples: |
      # Enhanced date detection with better precision
      # Format: DD/MM/YYYY or DD-MM-YYYY
      - \b\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}\b
      # Format: YYYY/MM/DD or YYYY-MM-DD
      - \b\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}\b
      # Format: day month year (e.g., "20 février 2026")
      - \b\d{1,2}\s+(?:janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\s+\d{4}\b
      # Format: "le day month year" (e.g., "le 20 février 2026")
      - \ble\s+\d{1,2}\s+(?:janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\s+\d{4}\b
      # Format: "le day month" (e.g., "le 20 février" - assumes current or next year)
      - \ble\s+\d{1,2}\s+(?:janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\b
      # Format: day month without "le" (e.g., "20 février" or "20 fevrier")
      - \b\d{1,2}\s+(?:janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\b
      # Format: "en month year" (e.g., "en février 2026")
      - \b(?:en\s+)?(?:janvier|février|fevrier|mars|avril|mai|juin|juillet|août|aout|septembre|octobre|novembre|décembre|decembre)\s+\d{4}\b

  - regex: effectif
    examples: |
      # capture quantities like '2 personne', '3 personnes', 'pour 2 postes', etc.
      - \b\d+\s*(?:personne|personnes|poste|postes|pers|collaborateur|collaborateurs)\b
      - \bpour\s+\d+\s*(?:personne|personnes|poste|postes)\b
